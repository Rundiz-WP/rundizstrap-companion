(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-search"}'),l=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.element,o=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{icon:{src:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})},edit:function({attributes:e,setAttributes:t}){const{showLabel:i,label:b,buttonUseIcon:u,buttonPosition:r,buttonClass:c,buttonText:h,placeholderText:p}=e;(0,s.useEffect)(()=>{e.buttonClass||t({buttonClass:"btn btn-primary"}),e.label||t({label:(0,l.__)("Search","bbfse-plugin")}),e.buttonText||t({buttonText:(0,l.__)("Search","bbfse-plugin")})},[]);const d=(0,s.useRef)(),x=(0,s.useRef)(),g=[{label:(0,l.__)("Button outside","bbfse-plugin"),value:"button-outside"},{label:(0,l.__)("Button group with input","bbfse-plugin"),value:"button-group-input"},{label:(0,l.__)("No button","bbfse-plugin"),value:"no-button"}],_=!1,f="button-outside",w="btn btn-primary",j=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.InspectorControls,{children:(0,a.jsxs)(o.__experimentalToolsPanel,{label:(0,l.__)("Settings","bbfse-plugin"),resetAll:()=>{t({showLabel:!1,buttonPosition:f,buttonUseIcon:_})},children:[(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>i,label:(0,l.__)("Show label","bbfse-plugin"),onDeselect:()=>{t({showLabel:!1})},isShownByDefault:!0,children:(0,a.jsx)(o.ToggleControl,{checked:i,label:(0,l.__)("Show label","bbfse-plugin"),onChange:e=>t({showLabel:e})})}),(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>r!==f,label:(0,l.__)("Button position","bbfse-plugin"),onDeselect:()=>{t({buttonPosition:f})},isShownByDefault:!0,children:(0,a.jsx)(o.SelectControl,{value:r,__next40pxDefaultSize:!0,label:(0,l.__)("Button position","bbfse-plugin"),onChange:e=>{t({buttonPosition:e})},options:g})}),"no-button"!==r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>!0,label:(0,l.__)("Button use icon","bbfse-plugin"),onDeselect:()=>{t({buttonUseIcon:_})},isShownByDefault:!0,children:(0,a.jsx)(o.ToggleControl,{checked:u,label:(0,l.__)("Button use icon","bbfse-plugin"),onChange:e=>t({buttonUseIcon:e})})}),(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>c!==w,label:(0,l.__)("Button classes","bbfse-plugin"),onDeselect:()=>{t({buttonClass:w})},isShownByDefault:!0,children:(0,a.jsx)(o.TextControl,{label:(0,l.__)("Button classes","bbfse-plugin"),value:c,onChange:e=>t({buttonClass:e})})})]})]})})}),m=()=>(0,a.jsx)("input",{type:"search",className:"form-control","aria-label":(0,l.__)("Optional placeholder text","bbfse-plugin"),placeholder:p?void 0:(0,l.__)("Optional placeholder…","bbfse-plugin"),value:p,onChange:e=>t({placeholderText:e.target.value}),ref:d}),v=()=>{let e=w;c&&(e=c);const s=!0===u;let i=h;return s&&(i='<i class="bi bi-search"></i>'),s?(0,a.jsx)(o.Disabled,{children:(0,a.jsx)("button",{type:"button",className:e,"aria-label":(0,l.__)("Search","bbfse-plugin"),children:(0,a.jsx)("i",{className:"bi bi-search","aria-hidden":"true"})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.RichText,{identifier:"buttonText",className:e,"aria-label":(0,l.__)("Button text","bbfse-plugin"),placeholder:(0,l.__)("Add button text…","bbfse-plugin"),withoutInteractiveFormatting:!0,value:i,onChange:e=>t({buttonText:e}),ref:x})})};return(0,a.jsxs)("div",{...(0,n.useBlockProps)(),children:[j,i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"row",children:(0,a.jsx)("div",{class:"col-12",children:(0,a.jsx)(n.RichText,{identifier:"label","aria-label":(0,l.__)("Label text","bbfse-plugin"),placeholder:(0,l.__)("Add label…","bbfse-plugin"),withoutInteractiveFormatting:!0,value:b,onChange:e=>t({label:e})})})})}),"button-group-input"===r?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"input-group",children:[m(),v()]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"row g-3",children:[(0,a.jsx)("div",{className:"no-button"===r?"col-12":"col",children:m()}),"no-button"!==r&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"col-auto",children:v()})})]})})]})}})})();