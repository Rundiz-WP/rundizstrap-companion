(()=>{"use strict";const e=window.wp.blocks,l=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-search"}'),t=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.element,s=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)(l.UU,{icon:{src:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})},edit:function({attributes:e,setAttributes:l}){const{forNavbar:i,showLabel:b,label:r,buttonUseIcon:u,buttonPosition:c,buttonClass:h,buttonText:p,placeholderText:d}=e;(0,o.useEffect)(()=>{i&&b&&l({showLabel:!1}),e.buttonClass||l({buttonClass:"btn btn-primary"}),e.label||l({label:(0,t.__)("Search","bbfse-plugin")}),e.buttonText||l({buttonText:(0,t.__)("Search","bbfse-plugin")})},[e,h,p,i,b,l]);const _=(0,o.useRef)(),g=(0,o.useRef)(),x=[{label:(0,t.__)("Button outside","bbfse-plugin"),value:"button-outside"},{label:(0,t.__)("Button group with input","bbfse-plugin"),value:"button-group-input"},{label:(0,t.__)("No button","bbfse-plugin"),value:"no-button"}],f=!1,w="button-outside",j="btn btn-primary",m=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.InspectorControls,{children:(0,a.jsxs)(s.__experimentalToolsPanel,{label:(0,t.__)("Settings","bbfse-plugin"),resetAll:()=>{l({forNavbar:!1,showLabel:!1,buttonPosition:w,buttonUseIcon:f})},children:[(0,a.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>i,label:(0,t.__)("For navbar","bbfse-plugin"),onDeselect:()=>{l({forNavbar:!1})},isShownByDefault:!0,children:(0,a.jsx)(s.ToggleControl,{checked:i,label:(0,t.__)("For navbar","bbfse-plugin"),onChange:e=>l({forNavbar:e})})}),!i&&(0,a.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>b,label:(0,t.__)("Show label","bbfse-plugin"),onDeselect:()=>{l({showLabel:!1})},isShownByDefault:!0,children:(0,a.jsx)(s.ToggleControl,{checked:b,label:(0,t.__)("Show label","bbfse-plugin"),onChange:e=>l({showLabel:e})})}),(0,a.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>c!==w,label:(0,t.__)("Button position","bbfse-plugin"),onDeselect:()=>{l({buttonPosition:w})},isShownByDefault:!0,children:(0,a.jsx)(s.SelectControl,{value:c,__next40pxDefaultSize:!0,label:(0,t.__)("Button position","bbfse-plugin"),onChange:e=>{l({buttonPosition:e})},options:x})}),"no-button"!==c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!0,label:(0,t.__)("Button use icon","bbfse-plugin"),onDeselect:()=>{l({buttonUseIcon:f})},isShownByDefault:!0,children:(0,a.jsx)(s.ToggleControl,{checked:u,label:(0,t.__)("Button use icon","bbfse-plugin"),onChange:e=>l({buttonUseIcon:e})})}),(0,a.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>h!==j,label:(0,t.__)("Button classes","bbfse-plugin"),onDeselect:()=>{l({buttonClass:j})},isShownByDefault:!0,children:(0,a.jsx)(s.TextControl,{label:(0,t.__)("Button classes","bbfse-plugin"),value:h,onChange:e=>l({buttonClass:e})})})]})]})})}),v=()=>(0,a.jsx)("input",{type:"search",className:"form-control","aria-label":(0,t.__)("Optional placeholder text","bbfse-plugin"),placeholder:d?void 0:(0,t.__)("Optional placeholder…","bbfse-plugin"),value:d,onChange:e=>l({placeholderText:e.target.value}),ref:_}),C=()=>{let e=j;h&&(e=h);const o=!0===u;let i=p;return o&&(i='<i class="bi bi-search"></i>'),o?(0,a.jsx)(s.Disabled,{children:(0,a.jsx)("button",{type:"button",className:e,"aria-label":(0,t.__)("Search","bbfse-plugin"),children:(0,a.jsx)("i",{className:"bi bi-search","aria-hidden":"true"})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.RichText,{identifier:"buttonText",className:e,"aria-label":(0,t.__)("Button text","bbfse-plugin"),placeholder:(0,t.__)("Add button text…","bbfse-plugin"),withoutInteractiveFormatting:!0,value:i,onChange:e=>l({buttonText:e}),ref:g})})};return(0,a.jsxs)("div",{...(0,n.useBlockProps)(),children:[m,!i&&b&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"row",children:(0,a.jsx)("div",{class:"col-12",children:(0,a.jsx)(n.RichText,{identifier:"label","aria-label":(0,t.__)("Label text","bbfse-plugin"),placeholder:(0,t.__)("Add label…","bbfse-plugin"),withoutInteractiveFormatting:!0,value:r,onChange:e=>l({label:e})})})})}),"button-group-input"===c?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"input-group",children:[v(),C()]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"row g-3",children:[(0,a.jsx)("div",{className:"no-button"===c?"col-12":"col",children:v()}),"no-button"!==c&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"col-auto",children:C()})})]})})]})}})})();