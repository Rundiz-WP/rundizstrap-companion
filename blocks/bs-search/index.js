(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"bbfse-plug/blocks-bs-search"}'),l=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.element,o=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)(t.UU,{icon:{src:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})},edit:function({attributes:e,setAttributes:t}){const{forNavbar:b,showLabel:i,label:r,buttonUseIcon:u,buttonPosition:c,buttonClass:h,buttonText:p,placeholderText:d}=e;(0,s.useEffect)(()=>{b&&i&&t({showLabel:!1}),e.buttonClass||t({buttonClass:"btn btn-primary"}),e.label||t({label:(0,l.__)("Search","bbfse-plug")}),e.buttonText||t({buttonText:(0,l.__)("Search","bbfse-plug")})},[e,h,p,b,i,t]);const g=(0,s.useRef)(),x=(0,s.useRef)(),_=[{label:(0,l.__)("Button outside","bbfse-plug"),value:"button-outside"},{label:(0,l.__)("Button group with input","bbfse-plug"),value:"button-group-input"},{label:(0,l.__)("No button","bbfse-plug"),value:"no-button"}],f=!1,j="button-outside",w="btn btn-primary",m=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.InspectorControls,{children:(0,a.jsxs)(o.__experimentalToolsPanel,{label:(0,l.__)("Settings","bbfse-plug"),resetAll:()=>{t({forNavbar:!1,showLabel:!1,buttonPosition:j,buttonUseIcon:f})},children:[(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>b,label:(0,l.__)("For navbar","bbfse-plug"),onDeselect:()=>{t({forNavbar:!1})},isShownByDefault:!0,children:(0,a.jsx)(o.ToggleControl,{checked:b,label:(0,l.__)("For navbar","bbfse-plug"),onChange:e=>t({forNavbar:e})})}),!b&&(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>i,label:(0,l.__)("Show label","bbfse-plug"),onDeselect:()=>{t({showLabel:!1})},isShownByDefault:!0,children:(0,a.jsx)(o.ToggleControl,{checked:i,label:(0,l.__)("Show label","bbfse-plug"),onChange:e=>t({showLabel:e})})}),(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>c!==j,label:(0,l.__)("Button position","bbfse-plug"),onDeselect:()=>{t({buttonPosition:j})},isShownByDefault:!0,children:(0,a.jsx)(o.SelectControl,{value:c,__next40pxDefaultSize:!0,label:(0,l.__)("Button position","bbfse-plug"),onChange:e=>{t({buttonPosition:e})},options:_})}),"no-button"!==c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>!0,label:(0,l.__)("Button use icon","bbfse-plug"),onDeselect:()=>{t({buttonUseIcon:f})},isShownByDefault:!0,children:(0,a.jsx)(o.ToggleControl,{checked:u,label:(0,l.__)("Button use icon","bbfse-plug"),onChange:e=>t({buttonUseIcon:e})})}),(0,a.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>h!==w,label:(0,l.__)("Button classes","bbfse-plug"),onDeselect:()=>{t({buttonClass:w})},isShownByDefault:!0,children:(0,a.jsx)(o.TextControl,{label:(0,l.__)("Button classes","bbfse-plug"),value:h,onChange:e=>t({buttonClass:e})})})]})]})})}),v=()=>{let e="form-control";return!0===b&&"button-group-input"!==c&&"no-button"!==c&&(e+=" me-2"),(0,a.jsx)("input",{type:"search",className:e,"aria-label":(0,l.__)("Optional placeholder text","bbfse-plug"),placeholder:d?void 0:(0,l.__)("Optional placeholder…","bbfse-plug"),value:d,onChange:e=>t({placeholderText:e.target.value}),ref:g})},C=()=>{let e=w;h&&(e=h);const s=!0===u;let b=p;return s&&(b='<i class="bi bi-search"></i>'),s?(0,a.jsx)(o.Disabled,{children:(0,a.jsx)("button",{type:"button",className:e,"aria-label":(0,l.__)("Search","bbfse-plug"),children:(0,a.jsx)("i",{className:"bi bi-search","aria-hidden":"true"})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.RichText,{identifier:"buttonText",className:e,"aria-label":(0,l.__)("Button text","bbfse-plug"),placeholder:(0,l.__)("Add button text…","bbfse-plug"),withoutInteractiveFormatting:!0,value:b,onChange:e=>t({buttonText:e}),ref:x})})},T=(0,n.useBlockProps)({className:b?"d-flex":void 0});return(0,a.jsxs)("div",{...T,children:[m,!b&&i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"row",children:(0,a.jsx)("div",{class:"col-12",children:(0,a.jsx)(n.RichText,{identifier:"label","aria-label":(0,l.__)("Label text","bbfse-plug"),placeholder:(0,l.__)("Add label…","bbfse-plug"),withoutInteractiveFormatting:!0,value:r,onChange:e=>t({label:e})})})})}),b?(0,a.jsx)(a.Fragment,{children:"button-group-input"===c?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"input-group",children:[v(),C()]})}):(0,a.jsxs)(a.Fragment,{children:[v(),"no-button"!==c&&(0,a.jsx)(a.Fragment,{children:C()})]})}):(0,a.jsx)(a.Fragment,{children:"button-group-input"===c?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"input-group",children:[v(),C()]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{class:"row g-3",children:[(0,a.jsx)("div",{className:"no-button"===c?"col-12":"col",children:v()}),"no-button"!==c&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{class:"col-auto",children:C()})})]})})})]})}})})();