(()=>{"use strict";const a=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-responsive-wrapper"}'),n=window.wp.i18n,s=window.wp.blockEditor,t=window.wp.components,l=window.wp.element,o=["data-","aria-"];function r(a,e=""){if(null==a)return"";let n=String(a).trim().toLowerCase();const s=String(e||"").toLowerCase();return n?(s&&n.startsWith(s)&&(n=n.slice(s.length)),n="aria-"===s||"aria"===s?n.replace(/[^a-z0-9_-]/g,""):n.replace(/[^a-z0-9._:-]/g,""),n):""}function i(a){return null==a?"":String(a).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const c=window.ReactJSXRuntime;function d({label:a,value:e,onChange:s,prefix:o=""}){const d=e||{},[f,p]=(0,l.useState)([]);(0,l.useEffect)(()=>{const a=Object.entries(d).map(([a,e])=>({key:a,val:e}));p(a)},[e]);const u=a=>a.reduce((a,e)=>{const n=r(e.key,o);return n?(a[n]=i(e.val),a):a},{}),v=(a,e,n)=>{const t=[...f];t[a][e]=n,p(t);const l=t.map(a=>r(a.key,o)).filter(a=>""!==a);l.some((a,e)=>l.indexOf(a)!==e)||s(u(t))};return(0,c.jsxs)("div",{className:"components-base-control",children:[(0,c.jsx)("label",{className:"components-base-control__label",children:a}),f.map((a,e)=>(0,c.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,c.jsx)(t.TextControl,{placeholder:(0,n.__)("Key","rundizstrap-companion"),value:a.key,onChange:a=>v(e,"key",a)}),(0,c.jsx)(t.TextControl,{placeholder:(0,n.__)("Value","rundizstrap-companion"),value:a.val,onChange:a=>v(e,"val",a)}),(0,c.jsx)(t.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(a=>{const e=f.filter((e,n)=>n!==a);p(e),s(u(e))})(e),label:(0,n.__)("Remove","rundizstrap-companion")})]},e)),(0,c.jsx)(t.Button,{variant:"secondary",onClick:()=>{const a=[...f,{key:"",val:""}];p(a)},size:"small",children:(0,n.__)("Add attribute","rundizstrap-companion")})]})}function f(a,e){const n={};if(!a)return n;const s=String(e||"").toLowerCase();return o.includes(s)?(Object.entries(a).forEach(([a,e])=>{const t=r(a,s);t&&(n[`${s}${t}`]=i(e))}),n):n}(0,a.registerBlockType)(e.UU,{icon:{src:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-collapse",viewBox:"0 0 16 16",children:(0,c.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8m7-8a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 4.293V.5A.5.5 0 0 1 8 0m-.5 11.707-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 11.707V15.5a.5.5 0 0 1-1 0z"})})},edit:function({attributes:a,setAttributes:e}){const{wrapperStyle:l,dataAttributes:o,ariaAttributes:r,offcanvasHeaderClassName:i,offcanvasHeaderTitleIDName:f,offcanvasHeaderTitleClassName:p,offcanvasHeaderTitleText:u,offcanvasHeaderCloseBtnClassName:v,offcanvasHeaderCloseBtnDataAttributes:m,offcanvasHeaderCloseBtnAriaAttributes:_,offcanvasBodyClassName:h}=a,b="collapse",x="offcanvas-header",C="offcanvas-title",j="offcanvas-body",w="offcanvas"===l?{tabIndex:"-1"}:{},y=(0,s.useBlockProps)({className:"navbar-collapse",...w}),T=a=>0===Object.keys(a||{}).length;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.InspectorControls,{children:[(0,c.jsx)(t.PanelBody,{title:(0,n.__)("Navbar responsive wrapper Settings","rundizstrap-companion"),initialOpen:!0,children:(0,c.jsxs)(t.__experimentalToolsPanel,{label:(0,n.__)("Navbar responsive wrapper","rundizstrap-companion"),resetAll:()=>e({wrapperStyle:b,dataAttributes:{},ariaAttributes:{}}),style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,c.jsx)("div",{style:{color:"rgb(117,117,117)",fontSize:"12px",gridColumn:"1 / -1",padding:"0px"},children:(0,c.jsx)("p",{children:(0,n.__)("Please note that the preview will not display with styles so that editing can work.","rundizstrap-companion")})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>l!==b,label:(0,n.__)("Wrapper style","rundizstrap-companion"),onDeselect:()=>e({wrapperStyle:b}),isShownByDefault:!0,children:(0,c.jsx)(t.SelectControl,{label:(0,n.__)("Wrapper style","rundizstrap-companion"),value:l,options:[{label:"collapse",value:"collapse"},{label:"offcanvas",value:"offcanvas"}],onChange:a=>e({wrapperStyle:a})})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!T(o),label:(0,n.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>e({dataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(d,{label:(0,n.__)("Data attributes","rundizstrap-companion")+" ",value:o,onChange:a=>e({dataAttributes:a})})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!T(r),label:(0,n.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>e({ariaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(d,{label:(0,n.__)("Aria attributes","rundizstrap-companion")+" ",value:r,onChange:a=>e({ariaAttributes:a})})})]})}),"offcanvas"===l&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(t.PanelBody,{title:(0,n.__)("Offcanvas Settings","rundizstrap-companion"),children:(0,c.jsxs)(t.__experimentalToolsPanel,{label:(0,n.__)("Navbar responsive offcanvas","rundizstrap-companion"),resetAll:()=>e({offcanvasHeaderClassName:x,offcanvasHeaderTitleIDName:"",offcanvasHeaderTitleClassName:C,offcanvasHeaderTitleText:"",offcanvasHeaderCloseBtnClassName:"",offcanvasHeaderCloseBtnDataAttributes:{},offcanvasHeaderCloseBtnAriaAttributes:{},offcanvasBodyClassName:j}),children:[(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>i!==x,label:(0,n.__)("Offcanvas header Class","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderClassName:x}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Offcanvas header Class","rundizstrap-companion"),value:i,onChange:a=>e({offcanvasHeaderClassName:a}),help:(0,n.sprintf)(/* translators: %1$s the offcanvas default class name. */ /* translators: %1$s the offcanvas default class name. */
(0,n.__)("Default is %1$s.","rundizstrap-companion"),x)})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==f,label:(0,n.__)("Offcanvas header title ID","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderTitleIDName:""}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Offcanvas header title ID","rundizstrap-companion"),value:f,onChange:a=>{let n=a.replace(/\s+/g,"-").replace(/[^a-z0-9_-]/g,"");e({offcanvasHeaderTitleIDName:n})},help:(0,n.__)("HTML id attribute on offcanvas header title","rundizstrap-companion")})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>p!==C,label:(0,n.__)("Offcanvas header title Class","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderTitleClassName:C}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Offcanvas header title Class","rundizstrap-companion"),value:p,onChange:a=>e({offcanvasHeaderTitleClassName:a}),help:(0,n.sprintf)((0,n.__)("Default is %1$s.","rundizstrap-companion"),C)})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==u,label:(0,n.__)("Offcanvas header title text","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderTitleText:""}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Offcanvas header title text","rundizstrap-companion"),value:u,onChange:a=>e({offcanvasHeaderTitleText:a}),help:(0,n.__)("You can use text or HTML. This will be display inside offcanvas title.","rundizstrap-companion")})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==v,label:(0,n.__)("Close button additional Class","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderCloseBtnClassName:""}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Close button additional Class","rundizstrap-companion"),value:v,onChange:a=>e({offcanvasHeaderCloseBtnClassName:a}),help:(0,n.__)("This will be additional class next to main close button class.","rundizstrap-companion")})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!T(m),label:(0,n.__)("Close button data attributes","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderCloseBtnDataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(d,{label:(0,n.__)("Close button data attributes","rundizstrap-companion")+" ",value:m,onChange:a=>e({offcanvasHeaderCloseBtnDataAttributes:a})})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!T(_),label:(0,n.__)("Close button aria attributes","rundizstrap-companion"),onDeselect:()=>e({offcanvasHeaderCloseBtnAriaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(d,{label:(0,n.__)("Close button aria attributes","rundizstrap-companion")+" ",value:_,onChange:a=>e({offcanvasHeaderCloseBtnAriaAttributes:a})})}),(0,c.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>h!==j,label:(0,n.__)("Offcanvas body Class","rundizstrap-companion"),onDeselect:()=>e({offcanvasBodyClassName:j}),isShownByDefault:!0,children:(0,c.jsx)(t.TextControl,{label:(0,n.__)("Offcanvas body Class","rundizstrap-companion"),value:h,onChange:a=>e({offcanvasBodyClassName:a}),help:(0,n.sprintf)((0,n.__)("Default is %1$s.","rundizstrap-companion"),j)})})]})})})]}),(0,c.jsx)("div",{...y,children:(0,c.jsx)(s.InnerBlocks,{})})]})},save:function({attributes:a}){const{wrapperStyle:e,dataAttributes:n,ariaAttributes:t,offcanvasHeaderClassName:l="offcanvas-header",offcanvasHeaderTitleClassName:o="offcanvas-title",offcanvasHeaderTitleIDName:r="",offcanvasHeaderTitleText:i="",offcanvasHeaderCloseBtnClassName:d="",offcanvasHeaderCloseBtnDataAttributes:p,offcanvasHeaderCloseBtnAriaAttributes:u,offcanvasBodyClassName:v="offcanvas-body"}=a,m="offcanvas"===e?{tabIndex:"-1"}:{},_=s.useBlockProps.save({className:"offcanvas"===e?"offcanvas offcanvas-end":"collapse navbar-collapse",...m,...f(n,"data-"),...f(t,"aria-")}),h={className:"btn-close"+(d?" "+d:""),type:"button",...f(p,"data-"),...f(u,"aria-")};if("offcanvas"===e){const a=r||"navbar-responsive-offcanvas-title-id";return(0,c.jsxs)("div",{..._,...a?{"aria-labelledby":a}:{},children:[(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("h5",{className:o,...a?{id:a}:{},dangerouslySetInnerHTML:{__html:i||""}}),(0,c.jsx)("button",{...h})]}),(0,c.jsx)("div",{className:v,children:(0,c.jsx)(s.InnerBlocks.Content,{})})]})}return(0,c.jsx)("div",{..._,children:(0,c.jsx)(s.InnerBlocks.Content,{})})}})})();