(()=>{"use strict";const e=window.wp.blocks,a=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-navbar-responsive-wrapper"}'),s=window.wp.i18n,l=window.wp.blockEditor,t=window.wp.components,n=window.wp.element,o=window.ReactJSXRuntime;function i({label:e,value:a,onChange:l}){const i=a||{},[r,f]=(0,n.useState)([]);(0,n.useEffect)(()=>{const e=Object.entries(i).map(([e,a])=>({key:e,val:a}));f(e)},[a]);const c=(e,a,s)=>{const t=[...r];t[e][a]=s,f(t);const n=t.map(e=>e.key);if(!n.some((e,a)=>n.indexOf(e)!==a)){const e=t.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});l(e)}};return(0,o.jsxs)("div",{className:"components-base-control",children:[(0,o.jsx)("label",{className:"components-base-control__label",children:e}),r.map((e,a)=>(0,o.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,o.jsx)(t.TextControl,{placeholder:(0,s.__)("Key","bbfse-plugin"),value:e.key,onChange:e=>c(a,"key",e)}),(0,o.jsx)(t.TextControl,{placeholder:(0,s.__)("Value","bbfse-plugin"),value:e.val,onChange:e=>c(a,"val",e)}),(0,o.jsx)(t.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const a=r.filter((a,s)=>s!==e);f(a);const s=a.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});l(s)})(a),label:(0,s.__)("Remove","bbfse-plugin")})]},a)),(0,o.jsx)(t.Button,{variant:"secondary",onClick:()=>{const e=[...r,{key:"",val:""}];f(e)},isSmall:!0,children:(0,s.__)("Add attribute","bbfse-plugin")})]})}const r=(e,a)=>{const s={};return e&&Object.entries(e).forEach(([e,l])=>{e&&(s[`${a}${e}`]=l)}),s};(0,e.registerBlockType)(a.UU,{icon:{src:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-collapse",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8m7-8a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 4.293V.5A.5.5 0 0 1 8 0m-.5 11.707-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 11.707V15.5a.5.5 0 0 1-1 0z"})})},edit:function({attributes:e,setAttributes:a}){const{wrapperStyle:n,dataAttributes:r,ariaAttributes:f,offcanvasHeaderClassName:c,offcanvasHeaderTitleIDName:b,offcanvasHeaderTitleClassName:d,offcanvasHeaderTitleText:u,offcanvasHeaderCloseBtnClassName:p,offcanvasHeaderCloseBtnDataAttributes:v,offcanvasHeaderCloseBtnAriaAttributes:_,offcanvasBodyClassName:h}=e,x="collapse",C="offcanvas-header",m="offcanvas-title",g="offcanvas-body",j="offcanvas"===n?{tabIndex:"-1"}:{},y=(0,l.useBlockProps)({...j}),w=e=>0===Object.keys(e||{}).length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.InspectorControls,{children:[(0,o.jsx)(t.PanelBody,{title:(0,s.__)("Navbar responsive wrapper Settings","bbfse-plugin"),initialOpen:!0,children:(0,o.jsxs)(t.__experimentalToolsPanel,{label:(0,s.__)("Navbar responsive wrapper","bbfse-plugin"),resetAll:()=>a({wrapperStyle:x,dataAttributes:{},ariaAttributes:{}}),style:{paddingLeft:"0px",paddingRight:"0px"},children:[(0,o.jsx)("div",{style:{color:"rgb(117,117,117)",fontSize:"12px",gridColumn:"1 / -1",padding:"0px"},children:(0,o.jsx)("p",{children:(0,s.__)("Please note that the preview will not display with styles so that editing can work.","bbfse-plugin")})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>n!==x,label:(0,s.__)("Wrapper style","bbfse-plugin"),onDeselect:()=>a({wrapperStyle:x}),isShownByDefault:!0,children:(0,o.jsx)(t.SelectControl,{label:(0,s.__)("Wrapper style","bbfse-plugin"),value:n,options:[{label:"collapse",value:"collapse"},{label:"offcanvas",value:"offcanvas"}],onChange:e=>a({wrapperStyle:e})})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!w(r),label:(0,s.__)("Data attributes","bbfse-plugin"),onDeselect:()=>a({dataAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(i,{label:(0,s.__)("Data attributes","bbfse-plugin")+" ",value:r,onChange:e=>a({dataAttributes:e})})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!w(f),label:(0,s.__)("Aria attributes","bbfse-plugin"),onDeselect:()=>a({ariaAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(i,{label:(0,s.__)("Aria attributes","bbfse-plugin")+" ",value:f,onChange:e=>a({ariaAttributes:e})})})]})}),"offcanvas"===n&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(t.PanelBody,{title:(0,s.__)("Offcanvas Settings","bbfse-plugin"),children:(0,o.jsxs)(t.__experimentalToolsPanel,{label:(0,s.__)("Navbar responsive offcanvas","bbfse-plugin"),resetAll:()=>a({offcanvasHeaderClassName:C,offcanvasHeaderTitleIDName:"",offcanvasHeaderTitleClassName:m,offcanvasHeaderTitleText:"",offcanvasHeaderCloseBtnClassName:"",offcanvasHeaderCloseBtnDataAttributes:{},offcanvasHeaderCloseBtnAriaAttributes:{},offcanvasBodyClassName:g}),children:[(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>c!==C,label:(0,s.__)("Offcanvas header Class","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderClassName:C}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Offcanvas header Class","bbfse-plugin"),value:c,onChange:e=>a({offcanvasHeaderClassName:e}),help:(0,s.sprintf)(/* translators: %1$s the offcanvas default class name. */ /* translators: %1$s the offcanvas default class name. */
(0,s.__)("Default is %1$s.","bbfse-plugin"),C)})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==b,label:(0,s.__)("Offcanvas header title ID","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderTitleIDName:""}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Offcanvas header title ID","bbfse-plugin"),value:b,onChange:e=>{let s=e.replace(/\s+/g,"-").replace(/[^a-z0-9_-]/g,"");a({offcanvasHeaderTitleIDName:s})},help:(0,s.__)("HTML id attribute on offcanvas header title","bbfse-plugin")})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>d!==m,label:(0,s.__)("Offcanvas header title Class","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderTitleClassName:m}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Offcanvas header title Class","bbfse-plugin"),value:d,onChange:e=>a({offcanvasHeaderTitleClassName:e}),help:(0,s.sprintf)((0,s.__)("Default is %1$s.","bbfse-plugin"),m)})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==u,label:(0,s.__)("Offcanvas header title text","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderTitleText:""}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Offcanvas header title text","bbfse-plugin"),value:u,onChange:e=>a({offcanvasHeaderTitleText:e}),help:(0,s.__)("You can use text or HTML. This will be display inside offcanvas title.","bbfse-plugin")})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>""!==p,label:(0,s.__)("Close button additional Class","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderCloseBtnClassName:""}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Close button additional Class","bbfse-plugin"),value:p,onChange:e=>a({offcanvasHeaderCloseBtnClassName:e}),help:(0,s.__)("This will be additional class next to main close button class.","bbfse-plugin")})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!w(v),label:(0,s.__)("Close button data attributes","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderCloseBtnDataAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(i,{label:(0,s.__)("Close button data attributes","bbfse-plugin")+" ",value:v,onChange:e=>a({offcanvasHeaderCloseBtnDataAttributes:e})})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>!w(_),label:(0,s.__)("Close button aria attributes","bbfse-plugin"),onDeselect:()=>a({offcanvasHeaderCloseBtnAriaAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(i,{label:(0,s.__)("Close button aria attributes","bbfse-plugin")+" ",value:_,onChange:e=>a({offcanvasHeaderCloseBtnAriaAttributes:e})})}),(0,o.jsx)(t.__experimentalToolsPanelItem,{hasValue:()=>h!==g,label:(0,s.__)("Offcanvas body Class","bbfse-plugin"),onDeselect:()=>a({offcanvasBodyClassName:g}),isShownByDefault:!0,children:(0,o.jsx)(t.TextControl,{label:(0,s.__)("Offcanvas body Class","bbfse-plugin"),value:h,onChange:e=>a({offcanvasBodyClassName:e}),help:(0,s.sprintf)((0,s.__)("Default is %1$s.","bbfse-plugin"),g)})})]})})})]}),(0,o.jsx)("div",{...y,children:(0,o.jsx)(l.InnerBlocks,{})})]})},save:function({attributes:e}){const{wrapperStyle:a,dataAttributes:s,ariaAttributes:t,offcanvasHeaderClassName:n="offcanvas-header",offcanvasHeaderTitleClassName:i="offcanvas-title",offcanvasHeaderTitleIDName:f="",offcanvasHeaderTitleText:c="",offcanvasHeaderCloseBtnClassName:b="",offcanvasHeaderCloseBtnDataAttributes:d,offcanvasHeaderCloseBtnAriaAttributes:u,offcanvasBodyClassName:p="offcanvas-body"}=e,v="offcanvas"===a?{tabIndex:"-1"}:{},_=l.useBlockProps.save({className:"offcanvas"===a?"offcanvas offcanvas-end":"collapse navbar-collapse",...v,...r(s,"data-"),...r(t,"aria-")}),h={className:"btn-close"+(b?" "+b:""),type:"button",...r(d,"data-"),...r(u,"aria-")};if("offcanvas"===a){const e=f||"navbar-responsive-offcanvas-title-id";return(0,o.jsxs)("div",{..._,...e?{"aria-labelledby":e}:{},children:[(0,o.jsxs)("div",{className:n,children:[(0,o.jsx)("h5",{className:i,...e?{id:e}:{},dangerouslySetInnerHTML:{__html:c||""}}),(0,o.jsx)("button",{...h})]}),(0,o.jsx)("div",{className:p,children:(0,o.jsx)(l.InnerBlocks.Content,{})})]})}return(0,o.jsx)("div",{..._,children:(0,o.jsx)(l.InnerBlocks.Content,{})})}})})();