(()=>{"use strict";const a=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-container"}'),t=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,i=window.wp.element,s=["data-","aria-"];function o(a,e){const t={};if(!a)return t;const n=String(e||"").toLowerCase();return s.includes(n)?(Object.entries(a).forEach(([a,e])=>{const r=l(a,n);r&&(t[`${n}${r}`]=c(e))}),t):t}function l(a,e=""){if(null==a)return"";let t=String(a).trim().toLowerCase();const n=String(e||"").toLowerCase();return t?(n&&t.startsWith(n)&&(t=t.slice(n.length)),t="aria-"===n||"aria"===n?t.replace(/[^a-z0-9_-]/g,""):t.replace(/[^a-z0-9._:-]/g,""),t):""}function c(a){return null==a?"":String(a).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const u=window.ReactJSXRuntime;function p({label:a,value:e,onChange:n,prefix:s=""}){const o=e||{},[p,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{const a=Object.entries(o).map(([a,e])=>({key:a,val:e}));d(a)},[e]);const m=a=>a.reduce((a,e)=>{const t=l(e.key,s);return t?(a[t]=c(e.val),a):a},{}),b=a=>{const e=a.map(a=>l(a.key,s)).filter(a=>""!==a);e.some((a,t)=>e.indexOf(a)!==t)||n(m(a))},_=(a,e,t)=>{const n=[...p];n[a][e]=t,d(n)};return(0,u.jsxs)("div",{className:"components-base-control",children:[(0,u.jsx)("label",{className:"components-base-control__label",children:a}),p.map((a,e)=>(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,u.jsx)(r.TextControl,{placeholder:(0,t.__)("Key","rundizstrap-companion"),value:a.key,onChange:a=>_(e,"key",a),onBlur:()=>b(p)}),(0,u.jsx)(r.TextControl,{placeholder:(0,t.__)("Value","rundizstrap-companion"),value:a.val,onChange:a=>_(e,"val",a),onBlur:()=>b(p)}),(0,u.jsx)(r.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(a=>{const e=p.filter((e,t)=>t!==a);d(e),n(m(e))})(e),label:(0,t.__)("Remove","rundizstrap-companion")})]},e)),(0,u.jsx)(r.Button,{variant:"secondary",onClick:()=>{const a=[...p,{key:"",val:""}];d(a)},size:"small",children:(0,t.__)("Add attribute","rundizstrap-companion")})]})}function d(a,e=""){if("string"!=typeof a)return a;let t=a.replace(/%[a-fA-F0-9][a-fA-F0-9]/g,"");return t=t.replace(/[^A-Za-z0-9_-]/g,""),""===t&&e?d(e):t}function m(a,e=!1){const t="string"==typeof a?a:"",n=/\s$/.test(t),r=t.split(/\s+/).map(a=>d(a)).filter(a=>""!==a).join(" ");return e&&n&&""!==r?r+" ":r}const b=["div","header","main","nav","section","article","aside","footer"],_=new Set(b);function h(a,e){const t=String(a||"").trim().toLowerCase(),n=String(e||"").trim().toLowerCase();return _.has(t)?t:_.has(n)?n:"div"}const x="nav",g="div",f=b.map(a=>({label:"<"+a+">",value:a}));(0,a.registerBlockType)(e.UU,{icon:{src:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:a,setAttributes:e}){const{tagName:i,dataAttributes:s,ariaAttributes:l,containerTagName:c,containerClassName:d,containerDataAttributes:b,containerAriaAttributes:_}=a,C=h(i,x),v=h(c,g),j=m(d||""),w=(0,n.useBlockProps)({className:"navbar",...o(s,"data-"),...o(l,"aria-")}),A=(0,n.useInnerBlocksProps)({className:j,...o(b,"data-"),...o(_,"aria-")}),z=a=>0===Object.keys(a||{}).length;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.InspectorControls,{children:[(0,u.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Navbar Settings","rundizstrap-companion"),resetAll:()=>e({tagName:x,dataAttributes:{},ariaAttributes:{}}),children:[(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>i!==x,label:(0,t.__)("Tag Name","rundizstrap-companion"),onDeselect:()=>e({tagName:x}),isShownByDefault:!0,children:(0,u.jsx)(r.SelectControl,{label:(0,t.__)("Tag Name","rundizstrap-companion"),value:C,options:f,onChange:a=>e({tagName:h(a,x)})})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(s),label:(0,t.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>e({dataAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Data attributes","rundizstrap-companion")+" ",value:s,onChange:a=>e({dataAttributes:a}),prefix:"data-"})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(l),label:(0,t.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>e({ariaAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Aria attributes","rundizstrap-companion")+" ",value:l,onChange:a=>e({ariaAttributes:a}),prefix:"aria-"})})]}),(0,u.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Container Settings","rundizstrap-companion"),resetAll:()=>e({containerTagName:g,containerClassName:"container-fluid",containerDataAttributes:{},containerAriaAttributes:{}}),children:[(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>c!==g,label:(0,t.__)("Container Tag Name","rundizstrap-companion"),onDeselect:()=>e({containerTagName:g}),isShownByDefault:!0,children:(0,u.jsx)(r.SelectControl,{label:(0,t.__)("Container Tag Name","rundizstrap-companion"),value:v,options:f,onChange:a=>e({containerTagName:h(a,g)})})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>"container-fluid"!==d,label:(0,t.__)("Container Class","rundizstrap-companion"),onDeselect:()=>e({containerClassName:"container-fluid"}),isShownByDefault:!0,children:(0,u.jsx)(r.TextControl,{label:(0,t.__)("Container Class","rundizstrap-companion"),value:d,onChange:a=>e({containerClassName:m(a,!0)}),onBlur:()=>e({containerClassName:m(d||"")}),help:(0,t.__)("Default is container-fluid. You can change to container, container-lg, etc.","rundizstrap-companion")})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(b),label:(0,t.__)("Container data attributes","rundizstrap-companion"),onDeselect:()=>e({containerDataAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Container data attributes","rundizstrap-companion")+" ",value:b,onChange:a=>e({containerDataAttributes:a}),prefix:"data-"})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(_),label:(0,t.__)("Container aria attributes","rundizstrap-companion"),onDeselect:()=>e({containerAriaAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Container aria attributes","rundizstrap-companion")+" ",value:_,onChange:a=>e({containerAriaAttributes:a}),prefix:"aria-"})})]})]}),(0,u.jsx)(C,{...w,children:(0,u.jsx)(v,{...A})})]})},save:function({attributes:a}){const{tagName:e,dataAttributes:t,ariaAttributes:r,containerTagName:i,containerClassName:s,containerDataAttributes:l,containerAriaAttributes:c}=a,p=h(e,"nav"),d=h(i,"div"),b=m(s||""),_=n.useBlockProps.save({className:"navbar"}),x=o(t,"data-"),g=o(r,"aria-");Object.assign(_,x,g);const f={className:b,...o(l,"data-"),...o(c,"aria-")};return(0,u.jsx)(p,{..._,children:(0,u.jsx)(d,{...f,children:(0,u.jsx)(n.InnerBlocks.Content,{})})})}})})();