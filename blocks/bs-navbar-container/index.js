(()=>{"use strict";const a=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-container"}'),t=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,i=window.wp.element,s=["data-","aria-"];function o(a,e=""){if(null==a)return"";let t=String(a).trim().toLowerCase();const n=String(e||"").toLowerCase();return t?(n&&t.startsWith(n)&&(t=t.slice(n.length)),t=t.replace(/[^a-z0-9_-]/g,""),t):""}function l(a){return null==a?"":String(a).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const c=window.ReactJSXRuntime;function u({label:a,value:e,onChange:n}){const s=e||{},[u,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{const a=Object.entries(s).map(([a,e])=>({key:a,val:e}));d(a)},[e]);const p=a=>a.reduce((a,e)=>{const t=o(e.key);return t?(a[t]=l(e.val),a):a},{}),m=(a,e,t)=>{const r=[...u];r[a][e]=t,d(r);const i=r.map(a=>o(a.key)).filter(a=>""!==a);i.some((a,e)=>i.indexOf(a)!==e)||n(p(r))};return(0,c.jsxs)("div",{className:"components-base-control",children:[(0,c.jsx)("label",{className:"components-base-control__label",children:a}),u.map((a,e)=>(0,c.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,c.jsx)(r.TextControl,{placeholder:(0,t.__)("Key","rundizstrap-companion"),value:a.key,onChange:a=>m(e,"key",a)}),(0,c.jsx)(r.TextControl,{placeholder:(0,t.__)("Value","rundizstrap-companion"),value:a.val,onChange:a=>m(e,"val",a)}),(0,c.jsx)(r.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(a=>{const e=u.filter((e,t)=>t!==a);d(e),n(p(e))})(e),label:(0,t.__)("Remove","rundizstrap-companion")})]},e)),(0,c.jsx)(r.Button,{variant:"secondary",onClick:()=>{const a=[...u,{key:"",val:""}];d(a)},size:"small",children:(0,t.__)("Add attribute","rundizstrap-companion")})]})}function d(a,e){const t={};if(!a)return t;const n=String(e||"").toLowerCase();return s.includes(n)?(Object.entries(a).forEach(([a,e])=>{const r=o(a,n);r&&(t[`${n}${r}`]=l(e))}),t):t}(0,a.registerBlockType)(e.UU,{icon:{src:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,c.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:a,setAttributes:e}){const{tagName:i,dataAttributes:s,ariaAttributes:o,containerTagName:l,containerClassName:d,containerDataAttributes:p,containerAriaAttributes:m}=a,b=(0,n.useBlockProps)({className:"navbar"}),_=(0,n.useInnerBlocksProps)({className:d}),h=i,x=l,v=a=>0===Object.keys(a||{}).length;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.InspectorControls,{children:[(0,c.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Navbar Settings","rundizstrap-companion"),resetAll:()=>e({tagName:"nav",dataAttributes:{},ariaAttributes:{}}),children:[(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>"nav"!==i,label:(0,t.__)("Tag Name","rundizstrap-companion"),onDeselect:()=>e({tagName:"nav"}),isShownByDefault:!0,children:(0,c.jsx)(r.SelectControl,{label:(0,t.__)("Tag Name","rundizstrap-companion"),value:i,options:[{label:"nav",value:"nav"},{label:"div",value:"div"},{label:"header",value:"header"}],onChange:a=>e({tagName:a})})}),(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!v(s),label:(0,t.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>e({dataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,t.__)("Data attributes","rundizstrap-companion")+" ",value:s,onChange:a=>e({dataAttributes:a})})}),(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!v(o),label:(0,t.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>e({ariaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,t.__)("Aria attributes","rundizstrap-companion")+" ",value:o,onChange:a=>e({ariaAttributes:a})})})]}),(0,c.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Container Settings","rundizstrap-companion"),resetAll:()=>e({containerTagName:"div",containerClassName:"container-fluid",containerDataAttributes:{},containerAriaAttributes:{}}),children:[(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>"div"!==l,label:(0,t.__)("Container Tag Name","rundizstrap-companion"),onDeselect:()=>e({containerTagName:"div"}),isShownByDefault:!0,children:(0,c.jsx)(r.SelectControl,{label:(0,t.__)("Container Tag Name","rundizstrap-companion"),value:l,options:[{label:"div",value:"div"},{label:"section",value:"section"}],onChange:a=>e({containerTagName:a})})}),(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>"container-fluid"!==d,label:(0,t.__)("Container Class","rundizstrap-companion"),onDeselect:()=>e({containerClassName:"container-fluid"}),isShownByDefault:!0,children:(0,c.jsx)(r.TextControl,{label:(0,t.__)("Container Class","rundizstrap-companion"),value:d,onChange:a=>e({containerClassName:a}),help:(0,t.__)("Default is container-fluid. You can change to container, container-lg, etc.","rundizstrap-companion")})}),(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!v(p),label:(0,t.__)("Container data attributes","rundizstrap-companion"),onDeselect:()=>e({containerDataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,t.__)("Container data attributes","rundizstrap-companion")+" ",value:p,onChange:a=>e({containerDataAttributes:a})})}),(0,c.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!v(m),label:(0,t.__)("Container aria attributes","rundizstrap-companion"),onDeselect:()=>e({containerAriaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,t.__)("Container aria attributes","rundizstrap-companion")+" ",value:m,onChange:a=>e({containerAriaAttributes:a})})})]})]}),(0,c.jsx)(h,{...b,children:(0,c.jsx)(x,{..._})})]})},save:function({attributes:a}){const{tagName:e,dataAttributes:t,ariaAttributes:r,containerTagName:i,containerClassName:s,containerDataAttributes:o,containerAriaAttributes:l}=a,u=n.useBlockProps.save({className:"navbar"}),p=e,m=i,b=d(t,"data-"),_=d(r,"aria-");Object.assign(u,b,_);const h={className:s,...d(o,"data-"),...d(l,"aria-")};return(0,c.jsx)(p,{...u,children:(0,c.jsx)(m,{...h,children:(0,c.jsx)(n.InnerBlocks.Content,{})})})}})})();