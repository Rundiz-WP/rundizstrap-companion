(()=>{"use strict";const e=window.wp.blocks,a=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-navbar-container"}'),t=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,i=window.ReactJSXRuntime;function r({label:e,value:a,onChange:n}){const r=a||{},[o,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{const e=Object.entries(r).map(([e,a])=>({key:e,val:a}));c(e)},[a]);const b=(e,a,t)=>{const l=[...o];l[e][a]=t,c(l);const s=l.map(e=>e.key);if(!s.some((e,a)=>s.indexOf(e)!==a)){const e=l.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(e)}};return(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:e}),o.map((e,a)=>(0,i.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,i.jsx)(l.TextControl,{placeholder:(0,t.__)("Key","bbfse-plugin"),value:e.key,onChange:e=>b(a,"key",e)}),(0,i.jsx)(l.TextControl,{placeholder:(0,t.__)("Value","bbfse-plugin"),value:e.val,onChange:e=>b(a,"val",e)}),(0,i.jsx)(l.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const a=o.filter((a,t)=>t!==e);c(a);const t=a.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(t)})(a),label:(0,t.__)("Remove","bbfse-plugin")})]},a)),(0,i.jsx)(l.Button,{variant:"secondary",onClick:()=>{const e=[...o,{key:"",val:""}];c(e)},isSmall:!0,children:(0,t.__)("Add attribute","bbfse-plugin")})]})}const o=(e,a)=>{const t={};return e&&Object.entries(e).forEach(([e,n])=>{e&&(t[`${a}${e}`]=n)}),t};(0,e.registerBlockType)(a.UU,{icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,i.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:e,setAttributes:a}){const{tagName:s,dataAttributes:o,ariaAttributes:c,containerTagName:b,containerClassName:u,containerDataAttributes:d,containerAriaAttributes:_}=e,g=(0,n.useBlockProps)({className:"navbar"}),p=(0,n.useInnerBlocksProps)({className:u}),h=s,m=b,v=e=>0===Object.keys(e||{}).length;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.InspectorControls,{children:[(0,i.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Navbar Settings","bbfse-plugin"),resetAll:()=>a({tagName:"nav",dataAttributes:{},ariaAttributes:{}}),children:[(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>"nav"!==s,label:(0,t.__)("Tag Name","bbfse-plugin"),onDeselect:()=>a({tagName:"nav"}),isShownByDefault:!0,children:(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Tag Name","bbfse-plugin"),value:s,options:[{label:"nav",value:"nav"},{label:"div",value:"div"},{label:"header",value:"header"}],onChange:e=>a({tagName:e})})}),(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!v(o),label:(0,t.__)("Data attributes","bbfse-plugin"),onDeselect:()=>a({dataAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(r,{label:(0,t.__)("Data attributes","bbfse-plugin")+" ",value:o,onChange:e=>a({dataAttributes:e})})}),(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!v(c),label:(0,t.__)("Aria attributes","bbfse-plugin"),onDeselect:()=>a({ariaAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(r,{label:(0,t.__)("Aria attributes","bbfse-plugin")+" ",value:c,onChange:e=>a({ariaAttributes:e})})})]}),(0,i.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Container Settings","bbfse-plugin"),resetAll:()=>a({containerTagName:"div",containerClassName:"container-fluid",containerDataAttributes:{},containerAriaAttributes:{}}),children:[(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>"div"!==b,label:(0,t.__)("Container Tag Name","bbfse-plugin"),onDeselect:()=>a({containerTagName:"div"}),isShownByDefault:!0,children:(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Container Tag Name","bbfse-plugin"),value:b,options:[{label:"div",value:"div"},{label:"section",value:"section"}],onChange:e=>a({containerTagName:e})})}),(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>"container-fluid"!==u,label:(0,t.__)("Container Class","bbfse-plugin"),onDeselect:()=>a({containerClassName:"container-fluid"}),isShownByDefault:!0,children:(0,i.jsx)(l.TextControl,{label:(0,t.__)("Container Class","bbfse-plugin"),value:u,onChange:e=>a({containerClassName:e}),help:(0,t.__)("Default is container-fluid. You can change to container, container-lg, etc.","bbfse-plugin")})}),(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!v(d),label:(0,t.__)("Container data attributes","bbfse-plugin"),onDeselect:()=>a({containerDataAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(r,{label:(0,t.__)("Container data attributes","bbfse-plugin")+" ",value:d,onChange:e=>a({containerDataAttributes:e})})}),(0,i.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!v(_),label:(0,t.__)("Container aria attributes","bbfse-plugin"),onDeselect:()=>a({containerAriaAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(r,{label:(0,t.__)("Container aria attributes","bbfse-plugin")+" ",value:_,onChange:e=>a({containerAriaAttributes:e})})})]})]}),(0,i.jsx)(h,{...g,children:(0,i.jsx)(m,{...p})})]})},save:function({attributes:e}){const{tagName:a,dataAttributes:t,ariaAttributes:l,containerTagName:s,containerClassName:r,containerDataAttributes:c,containerAriaAttributes:b}=e,u=n.useBlockProps.save({className:"navbar"}),d=a,_=s,g=o(t,"data-"),p=o(l,"aria-");Object.assign(u,g,p);const h={className:r,...o(c,"data-"),...o(b,"aria-")};return(0,i.jsx)(d,{...u,children:(0,i.jsx)(_,{...h,children:(0,i.jsx)(n.InnerBlocks.Content,{})})})}})})();