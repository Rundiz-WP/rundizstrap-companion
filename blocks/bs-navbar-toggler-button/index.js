(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-navbar-toggler-button"}'),a=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.components,l=window.wp.element,i=window.ReactJSXRuntime,o=({label:e,value:t,onChange:s})=>{const o=t||{},[r,b]=(0,l.useState)([]);(0,l.useEffect)(()=>{const e=Object.entries(o).map(([e,t])=>({key:e,val:t}));b(e)},[t]);const c=(e,t,a)=>{const n=[...r];n[e][t]=a,b(n);const l=n.map(e=>e.key);if(!l.some((e,t)=>l.indexOf(e)!==t)){const e=n.reduce((e,t)=>(t.key&&(e[t.key]=t.val),e),{});s(e)}};return(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:e}),r.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,i.jsx)(n.TextControl,{placeholder:(0,a.__)("Key","bbfse-plugin"),value:e.key,onChange:e=>c(t,"key",e)}),(0,i.jsx)(n.TextControl,{placeholder:(0,a.__)("Value","bbfse-plugin"),value:e.val,onChange:e=>c(t,"val",e)}),(0,i.jsx)(n.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const t=r.filter((t,a)=>a!==e);b(t);const a=t.reduce((e,t)=>(t.key&&(e[t.key]=t.val),e),{});s(a)})(t),label:(0,a.__)("Remove","bbfse-plugin")})]},t)),(0,i.jsx)(n.Button,{variant:"secondary",onClick:()=>{const e=[...r,{key:"",val:""}];b(e)},isSmall:!0,children:(0,a.__)("Add attribute","bbfse-plugin")})]})},r=(e,t)=>{const a={};return e&&Object.entries(e).forEach(([e,s])=>{e&&(a[`${t}${e}`]=s)}),a};(0,e.registerBlockType)(t.UU,{icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16",children:(0,i.jsx)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})},edit:function({attributes:e,setAttributes:t}){const{dataAttributes:l,ariaAttributes:r,iconClassName:b,iconDataAttributes:c,iconAriaAttributes:u}=e,d=(0,s.useBlockProps)({className:"navbar-toggler",type:"button"}),p=e=>0===Object.keys(e||{}).length;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.InspectorControls,{children:[(0,i.jsxs)(n.__experimentalToolsPanel,{label:(0,a.__)("Button Settings","bbfse-plugin"),resetAll:()=>t({dataAttributes:{},ariaAttributes:{}}),children:[(0,i.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!p(l),label:(0,a.__)("Data attributes","bbfse-plugin"),onDeselect:()=>t({dataAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(o,{label:(0,a.__)("Data attributes","bbfse-plugin")+" ",value:l,onChange:e=>t({dataAttributes:e})})}),(0,i.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!p(r),label:(0,a.__)("Aria attributes","bbfse-plugin"),onDeselect:()=>t({ariaAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(o,{label:(0,a.__)("Aria attributes","bbfse-plugin")+" ",value:r,onChange:e=>t({ariaAttributes:e})})})]}),(0,i.jsxs)(n.__experimentalToolsPanel,{label:(0,a.__)("Icon Settings","bbfse-plugin"),resetAll:()=>t({iconClassName:"",iconDataAttributes:{},iconAriaAttributes:{}}),children:[(0,i.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==b,label:(0,a.__)("Icon Additional Class(es)","bbfse-plugin"),onDeselect:()=>t({iconClassName:""}),isShownByDefault:!0,children:(0,i.jsx)(n.TextControl,{label:(0,a.__)("Icon Additional Class(es)","bbfse-plugin"),value:b,onChange:e=>t({iconClassName:e}),help:(0,a.__)("Add additional classes to the icon span.","bbfse-plugin")})}),(0,i.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!p(c),label:(0,a.__)("Icon data attributes","bbfse-plugin"),onDeselect:()=>t({iconDataAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(o,{label:(0,a.__)("Icon data attributes","bbfse-plugin")+" ",value:c,onChange:e=>t({iconDataAttributes:e})})}),(0,i.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!p(u),label:(0,a.__)("Icon aria attributes","bbfse-plugin"),onDeselect:()=>t({iconAriaAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(o,{label:(0,a.__)("Icon aria attributes","bbfse-plugin")+" ",value:u,onChange:e=>t({iconAriaAttributes:e})})})]})]}),(0,i.jsx)("button",{...d,children:(0,i.jsx)("span",{className:`navbar-toggler-icon ${b||""}`.trim()})})]})},save:function({attributes:e}){const{dataAttributes:t,ariaAttributes:a,iconClassName:n,iconDataAttributes:l,iconAriaAttributes:o}=e,b=s.useBlockProps.save({className:"navbar-toggler",type:"button"}),c=r(t,"data-"),u=r(a,"aria-");Object.assign(b,c,u);const d=r(l,"data-"),p=r(o,"aria-"),_={className:`navbar-toggler-icon ${n||""}`.trim(),...d,...p};return(0,i.jsx)("button",{...b,children:(0,i.jsx)("span",{..._})})}})})();