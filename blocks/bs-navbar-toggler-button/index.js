(()=>{"use strict";const t=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-toggler-button"}'),a=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,i=window.wp.element,o=["data-","aria-"];function r(t,e=""){if(null==t)return"";let a=String(t).trim().toLowerCase();const n=String(e||"").toLowerCase();return a?(n&&a.startsWith(n)&&(a=a.slice(n.length)),a=a.replace(/[^a-z0-9_-]/g,""),a):""}function l(t){return null==t?"":String(t).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const c=window.ReactJSXRuntime;function u({label:t,value:e,onChange:n}){const o=e||{},[u,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{const t=Object.entries(o).map(([t,e])=>({key:t,val:e}));d(t)},[e]);const p=t=>t.reduce((t,e)=>{const a=r(e.key);return a?(t[a]=l(e.val),t):t},{}),b=(t,e,a)=>{const s=[...u];s[t][e]=a,d(s);const i=s.map(t=>r(t.key)).filter(t=>""!==t);i.some((t,e)=>i.indexOf(t)!==e)||n(p(s))};return(0,c.jsxs)("div",{className:"components-base-control",children:[(0,c.jsx)("label",{className:"components-base-control__label",children:t}),u.map((t,e)=>(0,c.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,c.jsx)(s.TextControl,{placeholder:(0,a.__)("Key","rundizstrap-companion"),value:t.key,onChange:t=>b(e,"key",t)}),(0,c.jsx)(s.TextControl,{placeholder:(0,a.__)("Value","rundizstrap-companion"),value:t.val,onChange:t=>b(e,"val",t)}),(0,c.jsx)(s.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(t=>{const e=u.filter((e,a)=>a!==t);d(e),n(p(e))})(e),label:(0,a.__)("Remove","rundizstrap-companion")})]},e)),(0,c.jsx)(s.Button,{variant:"secondary",onClick:()=>{const t=[...u,{key:"",val:""}];d(t)},size:"small",children:(0,a.__)("Add attribute","rundizstrap-companion")})]})}function d(t,e){const a={};if(!t)return a;const n=String(e||"").toLowerCase();return o.includes(n)?(Object.entries(t).forEach(([t,e])=>{const s=r(t,n);s&&(a[`${n}${s}`]=l(e))}),a):a}(0,t.registerBlockType)(e.UU,{icon:{src:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16",children:(0,c.jsx)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})},edit:function({attributes:t,setAttributes:e}){const{dataAttributes:i,ariaAttributes:o,iconClassName:r,iconDataAttributes:l,iconAriaAttributes:d}=t,p=(0,n.useBlockProps)({className:"navbar-toggler",type:"button"}),b=t=>0===Object.keys(t||{}).length;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.InspectorControls,{children:[(0,c.jsxs)(s.__experimentalToolsPanel,{label:(0,a.__)("Button Settings","rundizstrap-companion"),resetAll:()=>e({dataAttributes:{},ariaAttributes:{}}),children:[(0,c.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(i),label:(0,a.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>e({dataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,a.__)("Data attributes","rundizstrap-companion")+" ",value:i,onChange:t=>e({dataAttributes:t})})}),(0,c.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(o),label:(0,a.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>e({ariaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,a.__)("Aria attributes","rundizstrap-companion")+" ",value:o,onChange:t=>e({ariaAttributes:t})})})]}),(0,c.jsxs)(s.__experimentalToolsPanel,{label:(0,a.__)("Icon Settings","rundizstrap-companion"),resetAll:()=>e({iconClassName:"",iconDataAttributes:{},iconAriaAttributes:{}}),children:[(0,c.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>""!==r,label:(0,a.__)("Icon Additional Class(es)","rundizstrap-companion"),onDeselect:()=>e({iconClassName:""}),isShownByDefault:!0,children:(0,c.jsx)(s.TextControl,{label:(0,a.__)("Icon Additional Class(es)","rundizstrap-companion"),value:r,onChange:t=>e({iconClassName:t}),help:(0,a.__)("Add additional classes to the icon span.","rundizstrap-companion")})}),(0,c.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(l),label:(0,a.__)("Icon data attributes","rundizstrap-companion"),onDeselect:()=>e({iconDataAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,a.__)("Icon data attributes","rundizstrap-companion")+" ",value:l,onChange:t=>e({iconDataAttributes:t})})}),(0,c.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(d),label:(0,a.__)("Icon aria attributes","rundizstrap-companion"),onDeselect:()=>e({iconAriaAttributes:{}}),isShownByDefault:!0,children:(0,c.jsx)(u,{label:(0,a.__)("Icon aria attributes","rundizstrap-companion")+" ",value:d,onChange:t=>e({iconAriaAttributes:t})})})]})]}),(0,c.jsx)("button",{...p,children:(0,c.jsx)("span",{className:`navbar-toggler-icon ${r||""}`.trim()})})]})},save:function({attributes:t}){const{dataAttributes:e,ariaAttributes:a,iconClassName:s,iconDataAttributes:i,iconAriaAttributes:o}=t,r=n.useBlockProps.save({className:"navbar-toggler",type:"button"}),l=d(e,"data-"),u=d(a,"aria-");Object.assign(r,l,u);const p=d(i,"data-"),b=d(o,"aria-"),m={className:`navbar-toggler-icon ${s||""}`.trim(),...p,...b};return(0,c.jsx)("button",{...r,children:(0,c.jsx)("span",{...m})})}})})();