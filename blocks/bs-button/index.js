(()=>{"use strict";const e=window.wp.blocks,l=JSON.parse('{"UU":"bbfse-plugin/blocks-bs-button"}'),t=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,o=window.wp.element,s=window.ReactJSXRuntime;function i({label:e,value:l,onChange:a}){const i=l||{},[b,r]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=Object.entries(i).map(([e,l])=>({key:e,val:l}));r(e)},[l]);const u=(e,l,t)=>{const n=[...b];n[e][l]=t,r(n);const o=n.map(e=>e.key);if(!o.some((e,l)=>o.indexOf(e)!==l)){const e=n.reduce((e,l)=>(l.key&&(e[l.key]=l.val),e),{});a(e)}};return(0,s.jsxs)("div",{className:"components-base-control",children:[(0,s.jsx)("label",{className:"components-base-control__label",children:e}),b.map((e,l)=>(0,s.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,s.jsx)(n.TextControl,{placeholder:(0,t.__)("Key","bbfse-plugin"),value:e.key,onChange:e=>u(l,"key",e)}),(0,s.jsx)(n.TextControl,{placeholder:(0,t.__)("Value","bbfse-plugin"),value:e.val,onChange:e=>u(l,"val",e)}),(0,s.jsx)(n.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const l=b.filter((l,t)=>t!==e);r(l);const t=l.reduce((e,l)=>(l.key&&(e[l.key]=l.val),e),{});a(t)})(l),label:(0,t.__)("Remove","bbfse-plugin")})]},l)),(0,s.jsx)(n.Button,{variant:"secondary",onClick:()=>{const e=[...b,{key:"",val:""}];r(e)},isSmall:!0,children:(0,t.__)("Add attribute","bbfse-plugin")})]})}function b(e,l){const t={};return e&&Object.entries(e).forEach(([e,a])=>{e&&(t[`${l}${e}`]=a)}),t}(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const{tagName:r,textHtml:u,href:m,linkRole:f,linkTabIndex:c,dataAttributes:p,ariaAttributes:_,autofocus:d,disabled:x,form:h,formenctype:g,formmethod:v,formnovalidate:T,formtarget:j,name:y,type:D,value:w,className:C}=e;(0,o.useEffect)(()=>{void 0===C&&l({className:"btn"})},[C,l]);const k="a"===r?"a":"button",B=(C||"").split(/\s+/).filter(Boolean).some(e=>"btn"===e.toLowerCase()),S=e=>0===Object.keys(e||{}).length,I=b(p,"data-"),P=b(_,"aria-"),A=(0,a.useBlockProps)({...I,...P,..."a"===r&&m?{href:m}:{},..."a"===r&&f?{role:f}:{},..."a"===r&&c?{tabIndex:c}:{},..."a"===r?{onClick:e=>e.preventDefault()}:{},..."button"===r&&d?{autoFocus:!0}:{},..."button"===r&&x?{disabled:!0}:{},..."button"===r&&h?{form:h}:{},..."button"===r&&g?{formEncType:g}:{},..."button"===r&&v?{formMethod:v}:{},..."button"===r&&T?{formNoValidate:!0}:{},..."button"===r&&j?{formTarget:j}:{},..."button"===r&&y?{name:y}:{},..."button"===r&&D?{type:D}:{},..."button"===r&&w?{value:w}:{}}),V=[{label:(0,t.__)("Default","bbfse-plugin"),value:""},{label:"application/x-www-form-urlencoded",value:"application/x-www-form-urlencoded"},{label:"multipart/form-data",value:"multipart/form-data"},{label:"text/plain",value:"text/plain"}],H=[{label:(0,t.__)("Default","bbfse-plugin"),value:""},{label:"get",value:"get"},{label:"post",value:"post"},{label:"dialog",value:"dialog"}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.InspectorControls,{children:["a"===r&&!m&&(0,s.jsx)("div",{style:{padding:"0 16px",marginBottom:"16px"},children:(0,s.jsx)(n.Notice,{status:"warning",isDismissible:!1,children:(0,t.__)("Please add an href value when using <a>.","bbfse-plugin")})}),!B&&(0,s.jsx)("div",{style:{padding:"0 16px",marginBottom:"16px"},children:(0,s.jsx)(n.Notice,{status:"warning",isDismissible:!1,children:(0,t.__)('Please ensure the CSS class list contains the Bootstrap class "btn".',"bbfse-plugin")})}),(0,s.jsxs)(n.__experimentalToolsPanel,{label:(0,t.__)("Button Settings","bbfse-plugin"),resetAll:()=>l({tagName:"button",textHtml:""}),children:[(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>"button"!==r,label:(0,t.__)("Tag Name","bbfse-plugin"),onDeselect:()=>l({tagName:"button"}),isShownByDefault:!0,children:(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Tag Name","bbfse-plugin"),value:r,options:[{label:"<button>",value:"button"},{label:"<a>",value:"a"}],onChange:e=>l({tagName:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==u,label:(0,t.__)("Button text/HTML","bbfse-plugin"),onDeselect:()=>l({textHtml:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t.__)("Button text/HTML","bbfse-plugin"),value:u,onChange:e=>l({textHtml:e}),help:(0,t.__)('You can use text or HTML, e.g. <i class="bi bi-save"></i> Save',"bbfse-plugin")})})]}),"a"===r&&(0,s.jsxs)(n.__experimentalToolsPanel,{label:(0,t.__)("Link Attributes","bbfse-plugin"),resetAll:()=>l({href:"",linkRole:"",linkTabIndex:""}),children:[(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==m,label:(0,t._x)("Href","HTML attribute","bbfse-plugin"),onDeselect:()=>l({href:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t._x)("Href","HTML attribute","bbfse-plugin"),value:m,onChange:e=>l({href:e}),help:(0,t.__)("Required when using <a>.","bbfse-plugin")})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==f,label:(0,t._x)("Role","HTML attribute","bbfse-plugin"),onDeselect:()=>l({linkRole:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t._x)("Role","HTML attribute","bbfse-plugin"),value:f,onChange:e=>l({linkRole:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==c,label:(0,t.__)("Tab index","bbfse-plugin"),onDeselect:()=>l({linkTabIndex:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t.__)("Tab index","bbfse-plugin"),value:c,onChange:e=>l({linkTabIndex:e})})})]}),"button"===r&&(0,s.jsxs)(n.__experimentalToolsPanel,{label:(0,t.__)("Button Attributes","bbfse-plugin"),resetAll:()=>l({autofocus:!1,disabled:!1,form:"",formenctype:"",formmethod:"",formnovalidate:!1,formtarget:"",name:"",type:"button",value:""}),children:[(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>d,label:(0,t._x)("Autofocus","HTML attribute","bbfse-plugin"),onDeselect:()=>l({autofocus:!1}),isShownByDefault:!0,children:(0,s.jsx)(n.ToggleControl,{checked:d,label:(0,t._x)("Autofocus","HTML attribute","bbfse-plugin"),onChange:e=>l({autofocus:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>x,label:(0,t._x)("Disabled","HTML attribute","bbfse-plugin"),onDeselect:()=>l({disabled:!1}),isShownByDefault:!0,children:(0,s.jsx)(n.ToggleControl,{checked:x,label:(0,t._x)("Disabled","HTML attribute","bbfse-plugin"),onChange:e=>l({disabled:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==h,label:(0,t.__)("Form ID","bbfse-plugin"),onDeselect:()=>l({form:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t.__)("Form ID","bbfse-plugin"),value:h,onChange:e=>l({form:e}),help:(0,s.jsxs)(s.Fragment,{children:[(0,t.__)("ID of the form this button is associated with.","bbfse-plugin")," ",(0,s.jsx)(n.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/button",children:(0,t.__)("Learn more","bbfse-plugin")})]})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==g,label:(0,t.__)("Form enctype","bbfse-plugin"),onDeselect:()=>l({formenctype:""}),isShownByDefault:!0,children:(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Form enctype","bbfse-plugin"),value:g,options:V,onChange:e=>l({formenctype:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==v,label:(0,t.__)("Form method","bbfse-plugin"),onDeselect:()=>l({formmethod:""}),isShownByDefault:!0,children:(0,s.jsx)(n.SelectControl,{label:(0,t.__)("Form method","bbfse-plugin"),value:v,options:H,onChange:e=>l({formmethod:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>T,label:(0,t.__)("Form novalidate","bbfse-plugin"),onDeselect:()=>l({formnovalidate:!1}),isShownByDefault:!0,children:(0,s.jsx)(n.ToggleControl,{checked:T,label:(0,t.__)("Form novalidate","bbfse-plugin"),onChange:e=>l({formnovalidate:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==j,label:(0,t.__)("Form target","bbfse-plugin"),onDeselect:()=>l({formtarget:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t.__)("Form target","bbfse-plugin"),value:j,onChange:e=>l({formtarget:e}),help:(0,t.__)("Target for form submission, e.g. _blank.","bbfse-plugin")})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==y,label:(0,t._x)("Name","Button name","bbfse-plugin"),onDeselect:()=>l({name:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t._x)("Name","Button name","bbfse-plugin"),value:y,onChange:e=>l({name:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>"button"!==D,label:(0,t._x)("Type","Button type","bbfse-plugin"),onDeselect:()=>l({type:"button"}),isShownByDefault:!0,children:(0,s.jsx)(n.SelectControl,{label:(0,t._x)("Type","Button type","bbfse-plugin"),value:D,options:[{label:"button",value:"button"},{label:"submit",value:"submit"},{label:"reset",value:"reset"}],onChange:e=>l({type:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>""!==w,label:(0,t.__)("Value","bbfse-plugin"),onDeselect:()=>l({value:""}),isShownByDefault:!0,children:(0,s.jsx)(n.TextControl,{label:(0,t.__)("Value","bbfse-plugin"),value:w,onChange:e=>l({value:e})})})]}),(0,s.jsxs)(n.__experimentalToolsPanel,{label:(0,t.__)("Data and Aria Attributes","bbfse-plugin"),resetAll:()=>l({dataAttributes:{},ariaAttributes:{}}),children:[(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!S(p),label:(0,t.__)("Data attributes","bbfse-plugin"),onDeselect:()=>l({dataAttributes:{}}),isShownByDefault:!0,children:(0,s.jsx)(i,{label:(0,t.__)("Data attributes","bbfse-plugin")+" ",value:p,onChange:e=>l({dataAttributes:e})})}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!S(_),label:(0,t.__)("Aria attributes","bbfse-plugin"),onDeselect:()=>l({ariaAttributes:{}}),isShownByDefault:!0,children:(0,s.jsx)(i,{label:(0,t.__)("Aria attributes","bbfse-plugin")+" ",value:_,onChange:e=>l({ariaAttributes:e})})})]})]}),u?(0,s.jsx)(k,{...A,dangerouslySetInnerHTML:{__html:u}}):(0,s.jsx)(k,{...A})]})},save:function({attributes:e}){const{tagName:l,textHtml:t,href:n,linkRole:o,linkTabIndex:i,dataAttributes:r,ariaAttributes:u,autofocus:m,disabled:f,form:c,formenctype:p,formmethod:_,formnovalidate:d,formtarget:x,name:h,type:g,value:v}=e,T="a"===l?"a":"button",j={...{...a.useBlockProps.save(),...b(r,"data-"),...b(u,"aria-")},..."a"===l?{...n?{href:n}:{},...o?{role:o}:{},...i?{tabIndex:i}:{}}:{},..."button"===l?{...m?{autoFocus:!0}:{},...f?{disabled:!0}:{},...c?{form:c}:{},...p?{formEncType:p}:{},..._?{formMethod:_}:{},...d?{formNoValidate:!0}:{},...x?{formTarget:x}:{},...h?{name:h}:{},...g?{type:g}:{},...v?{value:v}:{}}:{}};return t?(0,s.jsx)(T,{...j,dangerouslySetInnerHTML:{__html:t}}):(0,s.jsx)(T,{...j})}})})();