(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"rundizstrap-companion/blocks-rundizstrap-companion-div"}'),a=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,l=window.wp.element,s=window.wp.data,o=["data-","aria-"];function i(e,t){const a={};if(!e)return a;const n=String(t||"").toLowerCase();return o.includes(n)?(Object.entries(e).forEach(([e,t])=>{const r=c(e,n);r&&(a[`${n}${r}`]=u(t))}),a):a}function c(e,t=""){if(null==e)return"";let a=String(e).trim().toLowerCase();const n=String(t||"").toLowerCase();return a?(n&&a.startsWith(n)&&(a=a.slice(n.length)),a="aria-"===n||"aria"===n?a.replace(/[^a-z0-9_-]/g,""):a.replace(/[^a-z0-9._:-]/g,""),a):""}function u(e){return null==e?"":String(e).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const p=window.ReactJSXRuntime;function d({label:e,value:t,onChange:n,prefix:s=""}){const o=t||{},[i,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{const e=Object.entries(o).map(([e,t])=>({key:e,val:t}));d(e)},[t]);const m=e=>e.reduce((e,t)=>{const a=c(t.key,s);return a?(e[a]=u(t.val),e):e},{}),x=(e,t,a)=>{const r=[...i];r[e][t]=a,d(r);const l=r.map(e=>c(e.key,s)).filter(e=>""!==e);l.some((e,t)=>l.indexOf(e)!==t)||n(m(r))};return(0,p.jsxs)("div",{className:"components-base-control",children:[(0,p.jsx)("label",{className:"components-base-control__label",children:e}),i.map((e,t)=>(0,p.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,p.jsx)(r.TextControl,{placeholder:(0,a.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>x(t,"key",e)}),(0,p.jsx)(r.TextControl,{placeholder:(0,a.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>x(t,"val",e)}),(0,p.jsx)(r.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const t=i.filter((t,a)=>a!==e);d(t),n(m(t))})(t),label:(0,a.__)("Remove","rundizstrap-companion")})]},t)),(0,p.jsx)(r.Button,{variant:"secondary",onClick:()=>{const e=[...i,{key:"",val:""}];d(e)},size:"small",children:(0,a.__)("Add attribute","rundizstrap-companion")})]})}function m(e){if(null==e)return"";if("object"==typeof e)return"";let t=String(e);return t.includes("<")&&(t=t.replace(/<(?![a-zA-Z\/?!])|<(?!=[\w-]+(?:\s|$))/g,"&lt;"),t=t.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<\/?[^>]+>/g,""),t=t.replace(/<\n/g,"&lt;\n")),t=t.replace(/[\r\n\t ]+/g," ").trim(),/%[a-f0-9]{2}/i.test(t)&&(t=t.replace(/%[a-f0-9]{2}/gi,""),t=t.replace(/ +/g," ").trim()),t}const x=["div","header","main","section","article","aside","footer"],b=new Set(x);function g(e,t){const a=String(e||"").trim().toLowerCase(),n=String(t||"").trim().toLowerCase();return b.has(a)?a:b.has(n)?n:"div"}const h="div";function _({tagName:e,onSelectTagName:t}){const l=x.map(e=>({label:e===h?(0,a.__)("Default (<div>)","rundizstrap-companion"):"<"+e+">",value:e}));return(0,p.jsx)(n.InspectorControls,{group:"advanced",children:(0,p.jsx)(r.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("HTML element","rundizstrap-companion"),value:e,onChange:t,options:l})})}(0,e.registerBlockType)(t.UU,{icon:{src:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-code-square",viewBox:"0 0 16 16",children:[(0,p.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,p.jsx)("path",{d:"M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0m2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0"})]})},edit:function({attributes:e,setAttributes:t,clientId:o}){const{tagName:c,accesskey:u,lang:x,role:b,tabindex:v,title:w,dataAttributes:f,ariaAttributes:j}=e,y=g(c,h),T=m(u),z=m(x),C=m(b),k=m(w),{hasInnerBlocks:B}=(0,s.useSelect)(e=>{const{getBlock:t}=e(n.store),a=t(o);return{hasInnerBlocks:!(!a||!a.innerBlocks.length)}},[o]),A=(0,l.useRef)(),S=e=>0===Object.keys(e||{}).length,I=(0,n.useBlockProps)({ref:A,...T?{accessKey:T}:{},...z?{lang:z}:{},...C?{role:C}:{},...Number.isInteger(v)?{tabIndex:v}:{},...k?{title:k}:{},...i(f,"data-"),...i(j,"aria-")});let D;B||(D=n.InnerBlocks.ButtonBlockAppender);const L=(0,n.useInnerBlocksProps)(I,{dropZoneElement:A.current,renderAppender:D});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_,{tagName:y,onSelectTagName:e=>t({tagName:g(e,h)})}),(0,p.jsx)(n.InspectorControls,{children:(0,p.jsxs)(r.__experimentalToolsPanel,{label:(0,a.__)("HTML Attributes","rundizstrap-companion"),resetAll:()=>t({accesskey:"",lang:"",role:"",tabindex:void 0,title:""}),children:[(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>""!==u,label:(0,a._x)("Accesskey","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({accesskey:""}),isShownByDefault:!0,children:(0,p.jsx)(r.TextControl,{label:(0,a._x)("Accesskey","HTML attribute","rundizstrap-companion"),value:u,onChange:e=>t({accesskey:m(e)})})}),(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>""!==x,label:(0,a._x)("Lang","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({lang:""}),isShownByDefault:!0,children:(0,p.jsx)(r.TextControl,{label:(0,a._x)("Lang","HTML attribute","rundizstrap-companion"),value:x,onChange:e=>t({lang:m(e)})})}),(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>""!==b,label:(0,a._x)("Role","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({role:""}),isShownByDefault:!0,children:(0,p.jsx)(r.TextControl,{label:(0,a._x)("Role","HTML attribute","rundizstrap-companion"),value:b,onChange:e=>t({role:m(e)})})}),(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>Number.isInteger(v),label:(0,a.__)("Tab index","rundizstrap-companion"),onDeselect:()=>t({tabindex:void 0}),isShownByDefault:!0,children:(0,p.jsx)(r.TextControl,{type:"number",label:(0,a.__)("Tab index","rundizstrap-companion"),value:Number.isInteger(v)?v:"",onChange:e=>{""!==e?/^-?\d+$/.test(e)&&t({tabindex:parseInt(e,10)}):t({tabindex:void 0})}})}),(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>""!==w,label:(0,a._x)("Title","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({title:""}),isShownByDefault:!0,children:(0,p.jsx)(r.TextControl,{label:(0,a._x)("Title","HTML attribute","rundizstrap-companion"),value:w,onChange:e=>t({title:m(e)})})})]})}),(0,p.jsx)(n.InspectorControls,{children:(0,p.jsxs)(r.__experimentalToolsPanel,{label:(0,a.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>t({dataAttributes:{},ariaAttributes:{}}),children:[(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!S(f),label:(0,a.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>t({dataAttributes:{}}),isShownByDefault:!0,children:(0,p.jsx)(d,{label:(0,a.__)("Data attributes","rundizstrap-companion")+" ",value:f,onChange:e=>t({dataAttributes:e}),prefix:"data-"})}),(0,p.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!S(j),label:(0,a.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>t({ariaAttributes:{}}),isShownByDefault:!0,children:(0,p.jsx)(d,{label:(0,a.__)("Aria attributes","rundizstrap-companion")+" ",value:j,onChange:e=>t({ariaAttributes:e}),prefix:"aria-"})})]})}),(0,p.jsx)(y,{...L})]})},save:function({attributes:e}){const{tagName:t,accesskey:a,lang:r,role:l,tabindex:s,title:o,dataAttributes:c,ariaAttributes:u}=e,d=g(t,"div"),x=m(a),b=m(r),h=m(l),_=m(o),v=n.useBlockProps.save({...x?{accessKey:x}:{},...b?{lang:b}:{},...h?{role:h}:{},...Number.isInteger(s)?{tabIndex:s}:{},..._?{title:_}:{},...i(c,"data-"),...i(u,"aria-")}),w=n.useInnerBlocksProps.save(v);return(0,p.jsx)(d,{...w})}})})();