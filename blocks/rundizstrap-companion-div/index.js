(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"rundizstrap-companion/blocks-rundizstrap-companion-div"}'),a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,r=window.wp.element,s=window.wp.data,o=["data-","aria-"];function i(e,t=""){if(null==e)return"";let a=String(e).trim().toLowerCase();const n=String(t||"").toLowerCase();return a?(n&&a.startsWith(n)&&(a=a.slice(n.length)),a=a.replace(/[^a-z0-9_-]/g,""),a):""}function c(e){return null==e?"":String(e).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const u=window.ReactJSXRuntime;function d({label:e,value:t,onChange:n}){const s=t||{},[o,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=Object.entries(s).map(([e,t])=>({key:e,val:t}));d(e)},[t]);const p=e=>e.reduce((e,t)=>{const a=i(t.key);return a?(e[a]=c(t.val),e):e},{}),b=(e,t,a)=>{const l=[...o];l[e][t]=a,d(l);const r=l.map(e=>i(e.key)).filter(e=>""!==e);r.some((e,t)=>r.indexOf(e)!==t)||n(p(l))};return(0,u.jsxs)("div",{className:"components-base-control",children:[(0,u.jsx)("label",{className:"components-base-control__label",children:e}),o.map((e,t)=>(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,u.jsx)(l.TextControl,{placeholder:(0,a.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>b(t,"key",e)}),(0,u.jsx)(l.TextControl,{placeholder:(0,a.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>b(t,"val",e)}),(0,u.jsx)(l.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const t=o.filter((t,a)=>a!==e);d(t),n(p(t))})(t),label:(0,a.__)("Remove","rundizstrap-companion")})]},t)),(0,u.jsx)(l.Button,{variant:"secondary",onClick:()=>{const e=[...o,{key:"",val:""}];d(e)},size:"small",children:(0,a.__)("Add attribute","rundizstrap-companion")})]})}function p(e,t){const a={};if(!e)return a;const n=String(t||"").toLowerCase();return o.includes(n)?(Object.entries(e).forEach(([e,t])=>{const l=i(e,n);l&&(a[`${n}${l}`]=c(t))}),a):a}function b({tagName:e,onSelectTagName:t}){return(0,u.jsx)(n.InspectorControls,{group:"advanced",children:(0,u.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("HTML element","rundizstrap-companion"),value:e,onChange:t,options:[{label:(0,a.__)("Default (<div>)","rundizstrap-companion"),value:"div"},{label:"<header>",value:"header"},{label:"<main>",value:"main"},{label:"<section>",value:"section"},{label:"<article>",value:"article"},{label:"<aside>",value:"aside"},{label:"<footer>",value:"footer"}]})})}(0,e.registerBlockType)(t.UU,{icon:{src:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-code-square",viewBox:"0 0 16 16",children:[(0,u.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,u.jsx)("path",{d:"M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0m2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0"})]})},edit:function({attributes:e,setAttributes:t,clientId:o}){const{tagName:i="div",accesskey:c,lang:m,role:x,tabindex:h,title:_,dataAttributes:g,ariaAttributes:v}=e,{hasInnerBlocks:j}=(0,s.useSelect)(e=>{const{getBlock:t}=e(n.store),a=t(o);return{hasInnerBlocks:!(!a||!a.innerBlocks.length)}},[o]),w=(0,r.useRef)(),T=e=>0===Object.keys(e||{}).length,f=(0,n.useBlockProps)({ref:w,...c?{accessKey:c}:{},...m?{lang:m}:{},...x?{role:x}:{},...Number.isInteger(h)?{tabIndex:h}:{},..._?{title:_}:{},...p(g,"data-"),...p(v,"aria-")});let k;j||(k=n.InnerBlocks.ButtonBlockAppender);const y=(0,n.useInnerBlocksProps)(f,{dropZoneElement:w.current,renderAppender:k});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b,{tagName:i,onSelectTagName:e=>t({tagName:e})}),(0,u.jsx)(n.InspectorControls,{children:(0,u.jsxs)(l.__experimentalToolsPanel,{label:(0,a.__)("HTML Attributes","rundizstrap-companion"),resetAll:()=>t({accesskey:"",lang:"",role:"",tabindex:void 0,title:""}),children:[(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==c,label:(0,a._x)("Accesskey","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({accesskey:""}),isShownByDefault:!0,children:(0,u.jsx)(l.TextControl,{label:(0,a._x)("Accesskey","HTML attribute","rundizstrap-companion"),value:c,onChange:e=>t({accesskey:e})})}),(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==m,label:(0,a._x)("Lang","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({lang:""}),isShownByDefault:!0,children:(0,u.jsx)(l.TextControl,{label:(0,a._x)("Lang","HTML attribute","rundizstrap-companion"),value:m,onChange:e=>t({lang:e})})}),(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==x,label:(0,a._x)("Role","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({role:""}),isShownByDefault:!0,children:(0,u.jsx)(l.TextControl,{label:(0,a._x)("Role","HTML attribute","rundizstrap-companion"),value:x,onChange:e=>t({role:e})})}),(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>Number.isInteger(h),label:(0,a.__)("Tab index","rundizstrap-companion"),onDeselect:()=>t({tabindex:void 0}),isShownByDefault:!0,children:(0,u.jsx)(l.TextControl,{type:"number",label:(0,a.__)("Tab index","rundizstrap-companion"),value:Number.isInteger(h)?h:"",onChange:e=>{if(""===e)return void t({tabindex:void 0});const a=Number(e);Number.isInteger(a)&&t({tabindex:a})}})}),(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==_,label:(0,a._x)("Title","HTML attribute","rundizstrap-companion"),onDeselect:()=>t({title:""}),isShownByDefault:!0,children:(0,u.jsx)(l.TextControl,{label:(0,a._x)("Title","HTML attribute","rundizstrap-companion"),value:_,onChange:e=>t({title:e})})})]})}),(0,u.jsx)(n.InspectorControls,{children:(0,u.jsxs)(l.__experimentalToolsPanel,{label:(0,a.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>t({dataAttributes:{},ariaAttributes:{}}),children:[(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!T(g),label:(0,a.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>t({dataAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(d,{label:(0,a.__)("Data attributes","rundizstrap-companion")+" ",value:g,onChange:e=>t({dataAttributes:e})})}),(0,u.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!T(v),label:(0,a.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>t({ariaAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(d,{label:(0,a.__)("Aria attributes","rundizstrap-companion")+" ",value:v,onChange:e=>t({ariaAttributes:e})})})]})}),(0,u.jsx)(i,{...y})]})},save:function({attributes:e}){const{tagName:t="div",accesskey:a,lang:l,role:r,tabindex:s,title:o,dataAttributes:i,ariaAttributes:c}=e,d=n.useBlockProps.save({...a?{accessKey:a}:{},...l?{lang:l}:{},...r?{role:r}:{},...Number.isInteger(s)?{tabIndex:s}:{},...o?{title:o}:{},...p(i,"data-"),...p(c,"aria-")}),b=n.useInnerBlocksProps.save(d);return(0,u.jsx)(t,{...b})}})})();